jQuery(document).ready(function(o){"use strict";var c,i,a,t,e,n,d,r,u,l;"undefined"!=typeof yith_qv&&(c=o(document).find("#yith-quick-view-modal"),i=c.find(".yith-quick-view-overlay"),a=c.find(".yith-quick-view-content"),t=c.find(".yith-quick-view-close"),e=c.find(".yith-wcqv-wrapper"),n=e.width(),d=e.height(),r=function(){var i,t;yith_qv.is_mobile||(i=o(window).width(),t=o(window).height(),e.css({left:i/2-(i=n<i-60?n:i-60)/2,top:t/2-(t=d<t-120?d:t-120)/2,width:i+"px",height:t+"px"}))},o.fn.yith_quick_view=function(){o(document).off("click",".yith-wcqv-button").on("click",".yith-wcqv-button",function(i){i.preventDefault();var i=o(this),t=i.data("product_id"),e=!1;"undefined"!=typeof yith_qv.loader&&(e=!0,i.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),c.hasClass("loading")||c.addClass("loading"),o(document).trigger("qv_loading")),u(i,t,e)})},u=function(e,i,n){o.ajax({url:yith_qv.ajaxurl,data:{action:"yith_load_product_quick_view",product_id:i,lang:yith_qv.lang,context:"frontend"},dataType:"json",type:"POST",success:function(i){a.html(i.html);var t=a.find(".variations_form");t.each(function(){o(this).wc_variation_form(),"undefined"!=typeof o.fn.yith_wccl?o(this).yith_wccl():"undefined"!=typeof o.yith_wccl&&i.prod_attr&&o.yith_wccl(i.prod_attr)}),t.trigger("check_variations"),t.trigger("reset_image"),"undefined"!=typeof o.fn.wc_product_gallery&&a.find(".woocommerce-product-gallery").each(function(){o(this).wc_product_gallery()}),c.hasClass("open")||(o("html").addClass("yith-quick-view-is-open"),c.removeClass("loading").addClass("open"),n&&e.unblock()),o(document).trigger("qv_loader_stop"),o(document).trigger("yith_quick_view_loaded")}})},i.on("click",function(i){l()}),o(document).keyup(function(i){27===i.keyCode&&l()}),t.on("click",function(i){i.preventDefault(),l()}),l=function(){c.removeClass("open").removeClass("loading"),o("html").removeClass("yith-quick-view-is-open"),a.html("")},r(),o(window).on("resize",r),o.fn.yith_quick_view(),o(document).on("yith_infs_adding_elem yith-wcan-ajax-filtered",function(){o.fn.yith_quick_view()}))});